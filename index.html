<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Constructor Pro - Construction Project Management</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
</head>
<body>
    <!-- Splash Screen -->
    <div id="splash-screen" class="splash-screen">
        <div class="splash-content">
            <img src="assets/logo.png" alt="Constructor Pro Logo" class="splash-logo">
            <h1>Constructor Pro</h1>
        </div>
    </div>

    <!-- Main App Container -->
    <div id="app-container" class="app-container hidden">
        <!-- Sidebar Navigation -->
        <nav id="sidebar" class="sidebar">
            <div class="sidebar-header">
                <img src="assets/logo.png" alt="Constructor Pro Logo" class="app-logo">
                <h2>Constructor Pro</h2>
            </div>
            <ul class="sidebar-menu">
                <li class="active" data-page="dashboard"><i class="fas fa-tachometer-alt"></i> Dashboard</li>
                <li data-page="projects"><i class="fas fa-building"></i> Projects</li>
                <li data-page="workers"><i class="fas fa-hard-hat"></i> Workers</li>
                <li data-page="attendance"><i class="fas fa-calendar-check"></i> Attendance</li>
                <li data-page="salary"><i class="fas fa-money-bill-wave"></i> Salary</li>
                <li data-page="expenses"><i class="fas fa-receipt"></i> Expenses</li>
                <li data-page="budget"><i class="fas fa-chart-pie"></i> Budget vs Expenses</li>
            </ul>
            <div class="sidebar-footer">
                <button id="logout-btn" class="logout-btn"><i class="fas fa-sign-out-alt"></i> Logout</button>
            </div>
        </nav>

        <!-- Main Content Area -->
        <main class="main-content">
            <!-- Top Navigation Bar -->
            <header class="top-nav">
                <button id="sidebar-toggle" class="sidebar-toggle">
                    <i class="fas fa-bars"></i>
                </button>
                <h2 id="page-title">Dashboard</h2>
                <div class="user-profile">
                    <span>Admin</span>
                    <i class="fas fa-user-circle"></i>
                </div>
            </header>

            <!-- Page Content -->
            <div class="content">
                <!-- Dashboard Page -->
                <section id="dashboard-page" class="page active-page">
                    <div class="dashboard-cards">
                        <div class="card">
                            <div class="card-icon bg-green">
                                <i class="fas fa-hard-hat"></i>
                            </div>
                            <div class="card-info">
                                <h3>Total Workers</h3>
                                <p id="total-workers">0</p>
                            </div>
                        </div>
                        <div class="card">
                            <div class="card-icon bg-blue">
                                <i class="fas fa-building"></i>
                            </div>
                            <div class="card-info">
                                <h3>Ongoing Projects</h3>
                                <p id="ongoing-projects">0</p>
                            </div>
                        </div>
                        <div class="card">
                            <div class="card-icon bg-purple">
                                <i class="fas fa-wallet"></i>
                            </div>
                            <div class="card-info">
                                <h3>Current Budget</h3>
                                <p id="current-budget">PKR 0</p>
                            </div>
                        </div>
                        <div class="card">
                            <div class="card-icon bg-orange">
                                <i class="fas fa-money-bill-wave"></i>
                            </div>
                            <div class="card-info">
                                <h3>Total Expenses</h3>
                                <p id="total-expenses">PKR 0</p>
                            </div>
                        </div>
                    </div>

                    <div class="dashboard-charts">
                        <div class="chart-container">
                            <h3>Projects Progress</h3>
                            <canvas id="projects-chart"></canvas>
                        </div>
                        <div class="chart-container">
                            <h3>Budget vs Expenses</h3>
                            <canvas id="budget-chart"></canvas>
                        </div>
                    </div>
                </section>

                <!-- Projects Management Page -->
                <section id="projects-page" class="page">
                    <div class="page-header">
                        <h3>Projects Management</h3>
                        <button id="add-project-btn" class="btn-primary">
                            <i class="fas fa-plus"></i> Add Project
                        </button>
                    </div>

                    <div class="search-filter">
                        <input type="text" id="project-search" placeholder="Search projects...">
                        <select id="project-status-filter">
                            <option value="all">All Projects</option>
                            <option value="ongoing">Ongoing</option>
                            <option value="completed">Completed</option>
                        </select>
                    </div>

                    <div class="table-container">
                        <table id="projects-table">
                            <thead>
                                <tr>
                                    <th>Project Name</th>
                                    <th>Location</th>
                                    <th>Budget (PKR)</th>
                                    <th>Start Date</th>
                                    <th>End Date</th>
                                    <th>Status</th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody>
                                <!-- Projects will be loaded here dynamically -->
                            </tbody>
                        </table>
                    </div>
                </section>

                <!-- Workers Management Page -->
                <section id="workers-page" class="page">
                    <div class="page-header">
                        <h3>Workers Management</h3>
                        <button id="add-worker-btn" class="btn-primary">
                            <i class="fas fa-plus"></i> Add Worker
                        </button>
                    </div>

                    <div class="search-filter">
                        <input type="text" id="worker-search" placeholder="Search workers...">
                        <select id="worker-type-filter">
                            <option value="all">All Types</option>
                            <option value="mason">Mason</option>
                            <option value="electrician">Electrician</option>
                            <option value="plumber">Plumber</option>
                            <option value="helper">Helper</option>
                            <option value="carpenter">Carpenter</option>
                        </select>
                    </div>

                    <div class="table-container">
                        <table id="workers-table">
                            <thead>
                                <tr>
                                    <th>Worker ID</th>
                                    <th>Name</th>
                                    <th>Type</th>
                                    <th>Assigned Project</th>
                                    <th>Daily Salary (PKR)</th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody>
                                <!-- Workers will be loaded here dynamically -->
                            </tbody>
                        </table>
                    </div>
                </section>

                <!-- Attendance Tracking Page -->
                <section id="attendance-page" class="page">
                    <div class="page-header">
                        <h3>Attendance Tracking</h3>
                        <div class="date-selector">
                            <input type="month" id="attendance-month" value="">
                            <button id="mark-attendance-btn" class="btn-primary">
                                <i class="fas fa-calendar-check"></i> Mark Attendance
                            </button>
                        </div>
                    </div>

                    <div class="attendance-controls">
                        <select id="attendance-project-filter">
                            <option value="all">All Projects</option>
                            <!-- Projects will be loaded here dynamically -->
                        </select>
                    </div>

                    <div class="table-container">
                        <table id="attendance-table">
                            <thead>
                                <tr>
                                    <th>Worker ID</th>
                                    <th>Name</th>
                                    <th>Type</th>
                                    <th>Project</th>
                                    <th>Present Days</th>
                                    <th>Absent Days</th>
                                    <th>Half Days</th>
                                    <th>Total Working Days</th>
                                </tr>
                            </thead>
                            <tbody>
                                <!-- Attendance will be loaded here dynamically -->
                            </tbody>
                        </table>
                    </div>
                </section>

                <!-- Salary & Overtime Calculator Page -->
                <section id="salary-page" class="page">
                    <div class="page-header">
                        <h3>Salary & Overtime Calculator</h3>
                        <div class="date-selector">
                            <input type="month" id="salary-month" value="">
                            <button id="calculate-salaries-btn" class="btn-primary">
                                <i class="fas fa-calculator"></i> Calculate Salaries
                            </button>
                        </div>
                    </div>

                    <div class="salary-summary">
                        <div class="summary-card">
                            <h4>Total Payable</h4>
                            <p id="total-payable">PKR 0</p>
                        </div>
                        <div class="summary-card">
                            <h4>Workers Count</h4>
                            <p id="workers-count">0</p>
                        </div>
                        <div class="summary-card">
                            <h4>Overtime Amount</h4>
                            <p id="overtime-amount">PKR 0</p>
                        </div>
                    </div>

                    <div class="table-container">
                        <table id="salary-table">
                            <thead>
                                <tr>
                                    <th>Worker ID</th>
                                    <th>Name</th>
                                    <th>Type</th>
                                    <th>Basic Salary (PKR)</th>
                                    <th>Working Days</th>
                                    <th>Overtime Hours</th>
                                    <th>Overtime Pay (PKR)</th>
                                    <th>Total Payable (PKR)</th>
                                    <th>Status</th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody>
                                <!-- Salaries will be loaded here dynamically -->
                            </tbody>
                        </table>
                    </div>
                </section>

                <!-- Expenses Tracking Page -->
                <section id="expenses-page" class="page">
                    <div class="page-header">
                        <h3>Expenses Tracking</h3>
                        <button id="add-expense-btn" class="btn-primary">
                            <i class="fas fa-plus"></i> Add Expense
                        </button>
                    </div>

                    <div class="expense-filters">
                        <select id="expense-project-filter">
                            <option value="all">All Projects</option>
                            <!-- Projects will be loaded here dynamically -->
                        </select>
                        <select id="expense-category-filter">
                            <option value="all">All Categories</option>
                            <option value="materials">Materials</option>
                            <option value="labor">Labor</option>
                            <option value="equipment">Equipment</option>
                            <option value="transport">Transport</option>
                            <option value="other">Other</option>
                        </select>
                        <input type="month" id="expense-month-filter">
                    </div>

                    <div class="table-container">
                        <table id="expenses-table">
                            <thead>
                                <tr>
                                    <th>Date</th>
                                    <th>Project</th>
                                    <th>Category</th>
                                    <th>Description</th>
                                    <th>Amount (PKR)</th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody>
                                <!-- Expenses will be loaded here dynamically -->
                            </tbody>
                        </table>
                    </div>
                </section>

                <!-- Budget vs Expenses Page -->
                <section id="budget-page" class="page">
                    <div class="page-header">
                        <h3>Budget vs Expenses</h3>
                        <select id="budget-project-selector">
                            <option value="">Select a project...</option>
                            <!-- Projects will be loaded here dynamically -->
                        </select>
                    </div>

                    <div id="budget-details" class="budget-details">
                        <div class="budget-summary">
                            <div class="budget-card">
                                <h4>Total Budget</h4>
                                <p id="project-budget">PKR 0</p>
                            </div>
                            <div class="budget-card">
                                <h4>Total Expenses</h4>
                                <p id="project-expenses">PKR 0</p>
                            </div>
                            <div class="budget-card">
                                <h4>Remaining Budget</h4>
                                <p id="remaining-budget">PKR 0</p>
                            </div>
                            <div class="budget-card">
                                <h4>Utilization</h4>
                                <p id="budget-utilization">0%</p>
                            </div>
                        </div>

                        <div class="budget-chart-container">
                            <canvas id="project-budget-chart"></canvas>
                        </div>

                        <div class="expense-categories">
                            <h4>Expenses by Category</h4>
                            <canvas id="expense-categories-chart"></canvas>
                        </div>
                    </div>
                </section>
 </div>
        </main>
    </div>

    <!-- Modals -->
    <!-- Add/Edit Project Modal -->
    <div id="project-modal" class="modal">
        <div class="modal-content">
            <span class="close-modal">&times;</span>
            <h3 id="project-modal-title">Add New Project</h3>
            <form id="project-form">
                <input type="hidden" id="project-id">
                <div class="form-group">
                    <label for="project-name">Project Name</label>
                    <input type="text" id="project-name" required>
                </div>
                <div class="form-group">
                    <label for="project-location">Location</label>
                    <input type="text" id="project-location" required>
                </div>
                <div class="form-group">
                    <label for="project-budget-input">Budget (PKR)</label>
                    <input type="number" id="project-budget-input" min="0" required>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label for="project-start-date">Start Date</label>
                        <input type="date" id="project-start-date" required>
                    </div>
                    <div class="form-group">
                        <label for="project-end-date">End Date</label>
                        <input type="date" id="project-end-date" required>
                    </div>
                </div>
                <div class="form-group">
                    <label for="project-status">Status</label>
                    <select id="project-status">
                        <option value="ongoing">Ongoing</option>
                        <option value="completed">Completed</option>
                    </select>
                </div>
                <div class="form-actions">
                    <button type="submit" class="btn-primary">Save</button>
                    <button type="button" class="btn-secondary close-modal">Cancel</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Add/Edit Worker Modal -->
    <div id="worker-modal" class="modal">
        <div class="modal-content">
            <span class="close-modal">&times;</span>
            <h3 id="worker-modal-title">Add New Worker</h3>
            <form id="worker-form">
                <input type="hidden" id="worker-id">
                <div class="form-group">
                    <label for="worker-name">Full Name</label>
                    <input type="text" id="worker-name" required>
                </div>
                <div class="form-group">
                    <label for="worker-type">Worker Type</label>
                    <select id="worker-type" required>
                        <option value="mason">Mason</option>
                        <option value="electrician">Electrician</option>
                        <option value="plumber">Plumber</option>
                        <option value="carpenter">Carpenter</option>
                        <option value="helper">Helper</option>
                        <option value="other">Other</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="worker-daily-salary">Daily Salary (PKR)</label>
                    <input type="number" id="worker-daily-salary" min="0" required>
                </div>
                <div class="form-group">
                    <label for="worker-assigned-project">Assigned Project</label>
                    <select id="worker-assigned-project">
                        <option value="">Not assigned</option>
                        <!-- Projects will be loaded here dynamically -->
                    </select>
                </div>
                <div class="form-actions">
                    <button type="submit" class="btn-primary">Save</button>
                    <button type="button" class="btn-secondary close-modal">Cancel</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Mark Attendance Modal -->
    <div id="attendance-modal" class="modal">
        <div class="modal-content">
            <span class="close-modal">&times;</span>
            <h3>Mark Attendance</h3>
            <div class="attendance-date-selector">
                <label for="attendance-date">Date:</label>
                <input type="date" id="attendance-date" required>
            </div>
            <div class="table-container">
                <table id="mark-attendance-table">
                    <thead>
                        <tr>
                            <th>Worker ID</th>
                            <th>Name</th>
                            <th>Project</th>
                            <th>Status</th>
                        </tr>
                    </thead>
                    <tbody>
                        <!-- Workers for attendance will be loaded here dynamically -->
                    </tbody>
                </table>
            </div>
            <div class="form-actions">
                <button id="save-attendance-btn" class="btn-primary">Save Attendance</button>
                <button type="button" class="btn-secondary close-modal">Cancel</button>
            </div>
        </div>
    </div>

    <!-- Add/Edit Expense Modal -->
    <div id="expense-modal" class="modal">
        <div class="modal-content">
            <span class="close-modal">&times;</span>
            <h3 id="expense-modal-title">Add New Expense</h3>
            <form id="expense-form">
                <input type="hidden" id="expense-id">
                <div class="form-group">
                    <label for="expense-date">Date</label>
                    <input type="date" id="expense-date" required>
                </div>
                <div class="form-group">
                    <label for="expense-project">Project</label>
                    <select id="expense-project" required>
                        <!-- Projects will be loaded here dynamically -->
                    </select>
                </div>
                <div class="form-group">
                    <label for="expense-category">Category</label>
                    <select id="expense-category" required>
                        <option value="materials">Materials</option>
                        <option value="labor">Labor</option>
                        <option value="equipment">Equipment</option>
                        <option value="transport">Transport</option>
                        <option value="other">Other</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="expense-amount">Amount (PKR)</label>
                    <input type="number" id="expense-amount" min="0" step="0.01" required>
                </div>
                <div class="form-group">
                    <label for="expense-description">Description</label>
                    <textarea id="expense-description" rows="3"></textarea>
                </div>
                <div class="form-actions">
                    <button type="submit" class="btn-primary">Save</button>
                    <button type="button" class="btn-secondary close-modal">Cancel</button>
                </div>
            </form>
        </div>
    </div>

   <!-- Success Notification -->
<div id="success-notification" class="notification">
    <span id="notification-message">Operation completed successfully!</span>
</div>

    <!-- Include Chart.js for dashboard charts -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="script.js"></script>
</body>
</html>